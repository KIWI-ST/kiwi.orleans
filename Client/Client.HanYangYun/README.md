# 1. 电商管理后台 API 接口文档

## 1.1. API V1 接口说明
- 提供现有的“招商政策”、“招商推介”、“重点产业”下的文档CRUD操作
- 招商政策和招商推介API，前者路径为policydocs，后者为Promotedocs，其余参数二者一致
- 使用 HTTP Status Code 标识状态
- 数据返回格式统一使用 JSON

### 1.1.1. 支持的请求方法

- GET（SELECT）：从服务器取出资源（一项或多项）。
- POST（CREATE）：在服务器新建一个资源。
- PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。
- DELETE（DELETE）：从服务器删除资源。

### 1.1.2. 通用返回状态说明

| *状态码* | *含义*                | *说明*                                              |
| -------- | --------------------- | --------------------------------------------------- |
| 200      | OK                    | 请求成功                                            |
| 201      | CREATED               | 创建成功                                            |
| 204      | DELETED               | 删除成功                                            |
| 400      | BAD REQUEST           | 请求的地址不存在或者包含不支持的参数                |
| 401      | UNAUTHORIZED          | 未授权                                              |
| 403      | FORBIDDEN             | 被禁止访问                                          |
| 404      | NOT FOUND             | 请求的资源不存在                                    |                                        


------
##2.重点产业文档管理接口

###2.1 重点产业文档数据列表
- 请求路径：docs
- 请求方法：get
- 请求参数 
- | 参数名    | 参数说明     | 备注 |
  | type      | [1,2,3]     | 【可选参数】值：1，2，3 分别表示显示一层二层三层分类列表，如果不传递，则默认获取所有级别的分类 |

- 响应数据
- | 参数名    | 参数说明     | 备注 |
| --------- | ------------ | ---- |
| id 	    | 文档 ID      |      |
| doc_name   | 文档名称     |      |
| doc_level  | 文档名称     |      |
| pid 	    | 文档父 ID    |      |


```json
{
    "data": {
        "docs": [
            {
                "id": 13,
                "doc_type": "大健康产业",
				"doc_level": 1
				"children":[
					{
						"id":27，
						"pid":13
						"doc_type":"健康产业规划"，
						"doc_level": 2
						"children":[
							{
								"id":32,
								"pid":27
								"doc_level": 3
								"doc_name":"汉阳区大健康产业规划"
							}
						]
					}，
{
						"id":28，
						"pid":13
						"doc_type":"健康产业政策"，
						"doc_level": 2
						"children":[
							{
								"id":33,
								"pid":28
								"doc_level": 3
								"doc_name":"汉阳区大健康产业扶持政策"
							}
						]
					}，
{
						"id":29，
						"pid":13
						"doc_level": 2
						"doc_type":"健康产业企业"，
						"children":[
							{
								"id":34,
								"pid":29
								"doc_level": 3
								"docname":"龙阳湖健康谷招商手册"
							}
						]
					}，
{

				]
            }
        ]
    },
    "meta": {
        "msg": "获取成功",
        "status": 200
    }
}
```
### 2.2. 添加文档

- 请求路径：docs
- 请求方法：post
- 请求参数

| 参数名    | 参数说明  | 备注                                                        |
| --------- | --------- | ----------------------------------------------------------- |
| pid 	    | 文档父 ID | 不能为空，如果要添加1级分类，则父分类Id应该设置为  `0`      |
| doc_name   | 文档名称  | 不能为空                                                    |
| doc_level | 文档层级  | 不能为空，`1`表示一级分类；`2`表示二级分类；`3`表示三级分类 |

- 响应数据

```json
{
    "data": {
        "id": 62,
        "doc_name": "汉阳区健康产业补充规划",
        "pid": "1",
        "doc_level": "1"
    },
    "meta": {
        "msg": "创建成功",
        "status": 201
    }
}
```
### 2.3. 根据 id 查询文档

- 请求路径：docs/:id
- 请求方法：get
- 请求参数

| 参数名 | 参数说明 | 备注                  |
| ------ | -------- | --------------------- |
| :id    | 分类 ID  | 不能为空`携带在url中` |

- 响应数据

```
{
    "data": {
        "id": 3,
        "doc_name": "汉阳区健康产业补充规划",
        "pid": 1,
        "doc_level": 1
    },
    "meta": {
        "msg": "获取成功",
        "status": 200
    }
}
```
### 2.4. 编辑提交文档（可以修改文档名）

- 请求路径：docs/:id
- 请求方法：put
- 请求参数

| 参数名   | 参数说明 | 备注                             |
| -------- | -------- | -------------------------------- |
| :id      | 文档ID   | 不能为空`携带在url中`            |
| doc_name | 文档名称 | 不能为空【此参数，放到请求体中】 |

- 响应数据
```
{
    "data": {
        "id": 3,
        "doc_name": "汉阳区健康产业补充规划",
        "pid": 1,
        "doc_level": 1
    },
    "meta": {
        "msg": "更新成功",
        "status": 200
    }
}
```
### 2.5. 删除文档

- 请求路径：docs/:id
- 请求方法：delete
- 请求参数

| 参数名 | 参数说明 | 备注                  |
| ------ | -------- | --------------------- |
| :id    | 分类 ID  | 不能为空`携带在url中` |

- 响应数据

```
{
    "data": null,
    "meta": {
        "msg": "删除成功",
        "status": 200
    }
}
```

##3.招商政策文档管理接口
###3.1 文档数据列表
- 请求路径：policydocs
- 请求方法：get


- 响应数据
- | 参数名    | 参数说明     | 备注 |
| --------- | ------------ | ---- |
| id 	    | 文档 ID      |      |
| doc_name   | 文档名称     |      |

```json
{
    "data": {
        "policydocs": [
            {
                "id": 13,
                "doc_name": "人才政策"
            }
        ]
    },
    "meta": {
        "msg": "获取成功",
        "status": 200
    }
}
```
### 3.2. 添加文档

- 请求路径：policydocs
- 请求方法：post
- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| doc_name | 用户名称 | 不能为空 |


- 响应参数

| 参数名   | 参数说明    | 备注 |
| -------- | ----------- | ---- |
| id       | 用户 ID     |      |
| doc_name | 用户名称 | 不能为空 |


- 响应数据

```json
{
    "data": {
        "id": 28,
       	"doc_name": "人才政策"
    },
    "meta": {
        "msg": "文档添加成功",
        "status": 201
    }
}
```
### 3.3. 根据 id 查询文档

- 请求路径：policydocs/:id
- 请求方法：get
- 请求参数

| 参数名 | 参数说明 | 备注                  |
| ------ | -------- | --------------------- |
| :id    | 分类 ID  | 不能为空`携带在url中` |

- 响应数据

```
{
    "data": {
        "id": 3,
        "doc_name": "人才引进政策",
    },
    "meta": {
        "msg": "获取成功",
        "status": 200
    }
}
```

### 3.4. 编辑提交文档（可以修改文档名）

- 请求路径：policydocs/:id
- 请求方法：put
- 请求参数

| 参数名   | 参数说明 | 备注                             |
| -------- | -------- | -------------------------------- |
| :id      | 文档ID   | 不能为空`携带在url中`            |
| doc_name | 文档名称 | 不能为空【此参数，放到请求体中】 |

- 响应数据
```
{
    "data": {
        "id": 3,
        "doc_name": "人才引进政策",
    },
    "meta": {
        "msg": "更新成功",
        "status": 200
    }
}
```

### 3.5. 删除文档

- 请求路径：policydocs/:id
- 请求方法：delete
- 请求参数

| 参数名 | 参数说明 | 备注                  |
| ------ | -------- | --------------------- |
| :id    | 分类 ID  | 不能为空`携带在url中` |

- 响应数据

```
{
    "data": null,
    "meta": {
        "msg": "删除成功",
        "status": 200
    }
}
```
